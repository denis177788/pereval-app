# Проект REST API для туристических горных перевалов.

### Описание:

Компания SkillFactory получила заказ от Федерации Спортивного Туризма России (ФСТР).
Над задачей работали студенты [SkillFactory].

По заданию необходимо усовершенствовать REST API для ведения базы горных перевалов, которая пополняется туристами.
Реализованы методы API:

POST /submitData для добавления туристом информации о новом перевале; 
GET /submitData/id/ — получение одной записи о перевале по ее id, в том числе статус модерации;
PATCH /submitData/id/ — редактирование существующей записи, если она еще не поступила в работу модератору, 
а также GET /submitData/?user__email=email — список данных обо всех объектах, которые пользователь с почтой <email> отправил на сервер.

###  Параметры реализации:

1. При подготовке проекта использована база данных PostgreSQL.
2. Путь к базе данных берётся из переменных окружения операционной системы: FSTR_DB_HOST, FSTR_DB_PORT, FSTR_LOGIN, FSTR_PASS
3. Переработана структура базы данных.
4. REST API опубликован на хостинге и доступен по адресу: http://95.140.155.25/
5. Код приложения был покрыт тестами. 


### Как работать с API (endpoints):
1. По адресу http://95.140.155.25/submitData/ можно получить информацию обо всех перевалах с помощью метода GET,
   а также создать информацию о новом перевале с помощью POST.
2. По адресу http://95.140.155.25/submitData/id/ можно получить одну запись о перевале по ее id, в том числе статус модерации, c помощью GET,
   а также редактировать запись с помощью метода PATCH. 
3. По адресу http://95.140.155.25/submitData/?user__email=email  можно с помощью GET получить список данных обо всех объектах, которые пользователь с почтой <email> отправил на сервер.

Пример JSON-запроса для создания, редактирования сведений о перевале:
```
{
  "beauty_title": "пер. ",
  "title": "Дятлова",
  "other_titles": "пер. Дятлова",
  "connect": "",
  "add_time": "2021-09-22 13:18:13",
  "user": {"email": "qwerty123@mail.ru", 		
        "fam": "Лупкин",
		 "name": "Василий",
		 "otc": "Иванович",
        "phone": "+7 555 55 55"}, 
  "coords":{
  "latitude": "11.3842",
  "longitude": "12.1525",
  "height": "2500"},
  "level":{"winter": "1",
  "summer": "1",
  "autumn": "1А",
  "spring": ""},
  "images": [
      {
	      "data":"http://vsegda-pomnim.com/uploads/posts/2022-04/1650933017_16-vsegda-pomnim-com-p-pereval-foto-17.jpg",
		  "title":"пер. Дятлова-1"
	  },
	  {
	      "data":"https://sportishka.com/uploads/posts/2022-03/1646109983_46-sportishka-com-p-guzeriplskii-pereval-turizm-krasivo-foto-49.jpg",
		  "title":"пер. Дятлова-2"
	  }
  ]
}
```

